<p align="center">
  <img src="/images/banner.png">
</p>

**Gong** is [Xmartlabs](https://xmartlabs.com/)' official Android template project, written in Kotlin and focused on providing a solid app architecture.
One of the main objectives of this project is to supply a good starting point for all new android apps, which lets you move forward fast using the latest Android Components and libraries.
We're using "clean architecture" to structure, decouple, expand, and maintain the code.

## Architecture
The architecture is based on the **Model-View-ViewModel (MVVM)** Pattern where there are 4 layers within the application:
- Domain layer - contains high-level abstraction of the application domain (like repositories, data access) and the use cases, which contain all of the application's business logic & domain rules.
- Data layer - implements domain layer abstractions, the `DataSources`, related to data persistence, REST calls, etc. 
- Device layer - implements domain layer abstractions that are not related to data persistence or user interface but are specific to the android platform: android services, cloud messaging, and many others.
- Presentation (UI) layer - all the functionality related to the Android user interface: activities, fragments, views

<p align="center">
  <img height="250" src="/images/arch.png" >
</p>

The core libraries for the communication between layer components are: [**LiveData**](https://developer.android.com/topic/libraries/architecture/livedata), used to notify the UI changes and [**Coroutines**](https://kotlinlang.org/docs/reference/coroutines-overview.html), used to perform all background tasks.

<p align="center">
  <img src="/images/layers.png">
</p>

## Core Libraries
The main libraries that we are using are:
- [Android Architecture Components - Jetpack](https://developer.android.com/topic/libraries/architecture):
 - [LiveData](https://developer.android.com/topic/libraries/architecture/livedata) which provides data objects that notify views when the underlying database changes.
 - [ViewModel](https://developer.android.com/topic/libraries/architecture/viewmodel) which stores UI-related data that isn't destroyed upon app rotation.
 - [Room](https://developer.android.com/topic/libraries/architecture/room), a SQLite object mapping library.
 - [Android Navigation Component](https://developer.android.com/guide/navigation) used to navigate across different pieces of content within your app.
- [Coroutines](https://kotlinlang.org/docs/reference/coroutines-overview.html) for asynchronous programming
- [Coil](https://coil-kt.github.io/coil/), an image loading library for Android backed by Kotlin Coroutines.
- [Koin](https://insert-koin.io/), a lightweight dependency injection framework for Kotlin.
- [OkHttp](https://square.github.io/okhttp/) and [Retrofit](https://square.github.io/retrofit/) for network communication.
- [Timber](https://github.com/JakeWharton/timber) one of the most popular loggers on Android.
- [Stetho](http://facebook.github.io/stetho/), a sophisticated debug bridge for Android applications.
- [LeakCanary](https://square.github.io/leakcanary/), a memory leak detection library for Android.

## Setup

To use this template you have to excecute the following command:
```bash
bash <(curl -s https://raw.githubusercontent.com/xmartlabs/gong/master/gong_setup.sh)
```

It will clone and setup all variables that you need.
If you prefer to do it manually, you have to follow these steps:
- Clone the project
- Update the `applicationId` in the app's build gradle file.
- Change the package structure based on your application id.

## Configuration and secrets
The app's version name is defined in the project's [Gradle file](/build.gradle). 
The app's version code is autogenerated based on the app's version name.

You have two files to define your constants:
`config.properties` which stores all of the app's configuration, like the backend's base URL, for example.
`secrets/keys.properties` which contains all of the secrets in your app, like a given API key for a third party service.
The keystores are stored in the `secrets` folder, which is not tracked in git.

The library versions are managed in a [versions Gradle file](https://github.com/xmartlabs/GongAndroidBaseProject/blob/master/versions.gradle)

## What's next?
For an answer to this question you can check the [current project status](https://github.com/xmartlabs/GongAndroidBaseProject/projects/1) and if you happen to come up with a new idea you can always open a new issue!

## About
Made with ❤️ by [XMARTLABS](http://xmartlabs.com)
